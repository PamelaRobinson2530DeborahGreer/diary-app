# 📱 真实设备测试清单

> **目标**: 验证 M4 PWA 在真实 iOS/Android 设备上的表现

## iOS 设备测试 (Safari)

### 安装测试
- [ ] 访问应用 URL
- [ ] 点击"分享"按钮 → "添加到主屏幕"
- [ ] 验证应用图标显示正确（蓝色渐变 + "日"字）
- [ ] 验证应用名称显示为"日记"

### 启动画面测试
- [ ] 从主屏幕启动应用
- [ ] 观察启动画面（应显示蓝色背景 + "日"字图标）
- [ ] 确认启动画面尺寸适配设备（无拉伸变形）

### 通知测试
- [ ] 首次打开应用 3 次后，等待 5 秒
- [ ] 应弹出通知权限请求提示
- [ ] 点击"允许"
- [ ] 验证立即收到"🎉 通知已开启"的测试通知
- [ ] 检查通知是否包含应用图标
- [ ] 点击通知，确认能跳转到应用

### 离线测试
- [ ] 正常浏览应用 2-3 分钟（让 Service Worker 缓存资源）
- [ ] 开启飞行模式
- [ ] 尝试从主屏幕打开应用
- [ ] 验证应用仍可正常显示（时间轴页面、设置页面）
- [ ] 尝试创建新日记（应保存到本地）
- [ ] 关闭飞行模式，验证数据同步

### 其他功能
- [ ] 验证深色模式切换正常
- [ ] 验证主题偏好保存
- [ ] 验证 PIN 码锁屏功能
- [ ] 验证生物识别（Face ID/Touch ID）

---

## Android 设备测试 (Chrome)

### 安装测试
- [ ] 访问应用 URL
- [ ] 等待底部弹出"添加到主屏幕"提示
- [ ] 点击"添加"
- [ ] 验证应用图标显示正确
- [ ] 验证应用名称显示为"Journal App - 加密日记"

### 通知测试
- [ ] 首次打开应用 3 次后，等待 5 秒
- [ ] 应弹出通知权限请求提示
- [ ] 点击"允许"
- [ ] 验证立即收到测试通知
- [ ] 点击通知，确认能跳转到应用

### 离线测试
- [ ] 正常浏览应用 2-3 分钟
- [ ] 开启飞行模式
- [ ] 尝试从主屏幕打开应用
- [ ] 验证应用仍可正常显示
- [ ] 创建新日记
- [ ] 关闭飞行模式，验证数据正常

### 其他功能
- [ ] 验证深色模式切换
- [ ] 验证主题偏好保存
- [ ] 验证 PIN 码锁屏
- [ ] 验证指纹/面部识别（如支持）

---

## 📊 测试记录表

| 测试项 | iOS Safari | Android Chrome | 问题描述 | 严重程度 |
|--------|-----------|---------------|---------|---------|
| 安装流程 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 应用图标 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 启动画面 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 通知权限 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 通知显示 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 通知点击 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 离线访问 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 深色模式 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| PIN 锁屏 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |
| 生物识别 | ⬜ 通过 ⬜ 失败 | ⬜ 通过 ⬜ 失败 | | ⬜ 高 ⬜ 中 ⬜ 低 |

---

## 🐛 问题上报模板

如果发现问题，请按以下格式记录：

```markdown
### [问题标题]

**设备信息**:
- 设备型号: (例如: iPhone 14 Pro / Samsung Galaxy S23)
- 系统版本: (例如: iOS 17.2 / Android 14)
- 浏览器版本: (例如: Safari 17.2 / Chrome 120)

**复现步骤**:
1. 打开应用
2. 点击...
3. 观察到...

**预期结果**:
应该显示/发生...

**实际结果**:
实际显示/发生...

**截图/视频**:
(如有请附上)

**严重程度**: ⬜ 高 (阻塞使用) ⬜ 中 (影响体验) ⬜ 低 (轻微瑕疵)
```

---

## 📝 测试完成后

完成测试后，请提供以下信息：

1. **总体通过率**: iOS __/10 项通过，Android __/10 项通过
2. **发现的问题数量**: 高严重度 __ 个，中严重度 __ 个，低严重度 __ 个
3. **是否建议进行 Lighthouse 审计**: ⬜ 是 ⬜ 否（理由：__）
4. **下一步优先级**: ⬜ 修复问题 ⬜ 继续 Lighthouse 审计

---

## 💡 注意事项

- **测试环境**: 建议使用真实移动网络（4G/5G），避免仅在 WiFi 下测试
- **缓存清理**: 如果需要重新测试，请先清除浏览器缓存和应用数据
- **权限状态**: 部分测试项需要重置权限状态（设置 → Safari/Chrome → 清除网站数据）
- **时间要求**: 完整测试预计需要 15-20 分钟/设备
